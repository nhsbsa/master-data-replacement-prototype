{% extends "base.html" %}
{% block navcontent %}
<li class="nhsuk-breadcrumb__item">
    <a href="../../index" class="nhsuk-breadcrumb__link">Home</a>
</li>
<li class="nhsuk-breadcrumb__item">
    <a href="../../main/Searchfor-page" class="nhsuk-breadcrumb__link">Search</a>
</li>
<li class="nhsuk-breadcrumb__item">
    <a href="../../tree.html" class="nhsuk-breadcrumb__link">Tree</a>
</li>
{% endblock %}
{% block content %}




<div class="nhsuk-width-container">
    <h1 class="nhsuk-heading-xl">Summary</h1>

<!--    <h2 class="nhsuk-heading-l">Data</h2>-->
    <div class="nhsuk-summary-list">

    <!-- Alternate screen-->

    <div class="tabs tabbed">

        <div class="tabs-nav">
            <ul class="tabs-list" role="tablist">
                <li id="heading-tab-attributes" role="presentation"><a href="#tab-attributes" role="tab" id="tab1" aria-selected="true">Attributes</a></li>
<!--                <li id="heading-tab-summary" role="presentation"><a href="#tab-summary" role="tab" id="tab2" tabindex="-1">Options</a></li>-->
                <li id="heading-tab-view-more" role="presentation"><a href="#tab-more" role="tab" id="tab3" tabindex="-1">Addresses</a></li>
            </ul>

        <div class="tabs-content">
            <!--tab1-->
            <div class="tabs-panel nhsuk-u-padding-top-3" id="tab-attributes" role="tabpanel" tabindex="-1" aria-labelledby="tab1">
                <div class="tabs-panel-inner">
                    <div class="nhsuk-grid-row">
                        <div class="nhsuk-grid-column-full">
                            <!--Attributes-->
                            <section class="nhsuk-u-padding-bottom-4" id="attributes-section">

                                <dl class="nhsuk-summary-list">
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            PD code
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            xxxx
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">PD code</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Prescriber dispenser dates
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            <p>From: 01/06/2022</p>
                                            <p>To: 01/06/9999</p>
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">start date</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            GMC code
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            843XCDV54
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">GMC code</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Allocation date
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            21/03/1999
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">start date</span> </a>
                                        </dd>
                                    </div>

                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Title
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Miss
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">title</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Initials
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            SD
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">initials</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Gender
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Female
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">gender</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Surname
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Doe
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">surname</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Forename
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Sarah
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">forename</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Date of birth
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            01/06/1990
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">dob</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">Limited service</dt>
                                        <dd class="nhsuk-summary-list__value">
                                            No
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">
                                                Change<span class="nhsuk-u-visually-hidden">gp type</span>
                                            </a>
                                        </dd>
                                    </div>

                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">Prescribing only</dt>
                                        <dd class="nhsuk-summary-list__value">
                                            No
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">
                                                Change<span class="nhsuk-u-visually-hidden">gp type</span>
                                            </a>
                                        </dd>
                                    </div>

                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">Salaried GP</dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Yes
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">
                                                Change<span class="nhsuk-u-visually-hidden">gp type</span>
                                            </a>
                                        </dd>
                                    </div>

                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">Suspended</dt>
                                        <dd class="nhsuk-summary-list__value">
                                            No
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">
                                                Change<span class="nhsuk-u-visually-hidden">gp type</span>
                                            </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Name manipulation method
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            Insert "Dr" and rotate surname and initials
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">name manipulation method</span> </a>
                                        </dd>
                                    </div>
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">
                                            Telephone no
                                        </dt>
                                        <dd class="nhsuk-summary-list__value">
                                            0121 343 8749
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">Change <span class="nhsuk-u-visually-hidden">telephone</span> </a>
                                        </dd>
                                    </div>

                                </dl>

                                <div class="nhsuk-form-group">
                                    <div class="nhsuk-fieldset">
                                        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s">
                                            Do you want to add attributes?
                                        </legend>

                                        <div class="nhsuk-radios nhsuk-radios--inline">
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="yes" name="further-attributes" value="yes">
                                                <label for="yes" class="nhsuk-label nhsuk-radios__label">Yes</label>
                                            </div>
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="no" name="further-attributes" value="no" checked>
                                                <label for="no" class="nhsuk-label nhsuk-radios__label">No</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>




                                <script type="text/javascript">
                                    //<![CDATA[
                                    filterInput = document.getElementById('insertAttribute-table--name-filter-input');
                                    filterInput.onkeyup = (e) => {
                                        const rows = document.querySelectorAll('tbody.nhsuk-table__body > tr.nhsuk-table__row');
                                        rows.forEach((row) => {
                                            const heading = row.querySelector('td:nth-child(2) > span:nth-child(2)');
                                            if (heading.textContent.toLowerCase().indexOf(e.target.value.toLowerCase()) > -1) {
                                                row.classList.remove('nhsuk-table__row__filtered');
                                            } else {
                                                row.classList.add('nhsuk-table__row__filtered');
                                            }
                                        });
                                    }

                                    const nameHeader = document.getElementById('insertAttribute-table--name-header-span');
                                    nameHeader.addEventListener('click', () => {
                                        const visible = filterInput.classList.contains(
                                            'insertAttribute-table--name-filter-input-visible');
                                        if ( visible ) {
                                            filterInput.classList.remove('insertAttribute-table--name-filter-input-visible')
                                            filterInput.classList.add('insertAttribute-table--name-filter-input-hidden')
                                        } else {
                                            filterInput.classList.add('insertAttribute-table--name-filter-input-visible')
                                            filterInput.classList.remove('insertAttribute-table--name-filter-input-hidden')
                                        }
                                    });
                                    //]]>
                                </script>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
            <!--tab2-->
            <div class="tabs-panel nhsuk-u-padding-top-3" id="tab-summary" role="tabpanel" tabindex="-1" aria-labelledby="tab2" hidden >
                <div class="tabs-panel-inner">
                    <div class="nhsuk-grid-row">
                        <div class="nhsuk-grid-column-full">
                            <!--Summary-->
                            <section class="nhsuk-u-padding-bottom-4" id="summary-section">

                                <div class="nhsuk-summary-list">


                                </div>

                                <div class="nhsuk-form-group">
                                    <div class="nhsuk-fieldset">
                                        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s">
                                            Do you want to add relationships?
                                        </legend>

                                        <div class="nhsuk-radios nhsuk-radios--inline">
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="yes-rel" name="further-relationships" value="yes">
                                                <label for="yes-rel" class="nhsuk-label nhsuk-radios__label">Yes</label>
                                            </div>
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="no-rel" name="further-relationships" value="no" checked>
                                                <label for="no-rel" class="nhsuk-label nhsuk-radios__label">No</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </section>
                        </div>
                    </div>
                </div>
            </div>
            <!--tab3-->
            <div class="tabs-panel nhsuk-u-padding-top-3" id="tab-more" role="tabpanel" tabindex="-1" aria-labelledby="tab3" hidden >
                <div class="tabs-panel-inner">
                    <div class="nhsuk-grid-row">
                        <div class="nhsuk-grid-column-full">
                            <!--Names-->
                            <section class="nhsuk-u-padding-bottom-4" id="name-section">

                                <div class="nhsuk-summary-list">
                                    <div class="nhsuk-summary-list__row">
                                        <dt class="nhsuk-summary-list__key">Address</dt>
                                        <dd class="nhsuk-summary-list__value">
                                            <p>Bevan practice group<br>
                                                1 The Grove <br>
                                                Gosforth <br>
                                                Newcastle Upon type <br>
                                                Tyne & Wear<br>
                                                NW1 0ST
                                            </p>
                                        </dd>
                                        <dd class="nhsuk-summary-list__actions">
                                            <a href="#">
                                                Change<span class="nhsuk-u-visually-hidden"> address</span>
                                            </a>
                                        </dd>
                                    </div>

                                </div>


                                <div class="nhsuk-form-group" style="display: none">
                                    <div class="nhsuk-fieldset">
                                        <legend class="nhsuk-fieldset__legend nhsuk-fieldset__legend--s">
                                            Do you want to add further addresses?
                                        </legend>

                                        <div class="nhsuk-radios nhsuk-radios--inline">
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="yes-addr" name="further-address" value="yes">
                                                <label for="yes-addr" class="nhsuk-label nhsuk-radios__label">Yes</label>
                                            </div>
                                            <div class="nhsuk-radios__item">
                                                <input type="radio" class="nhsuk-radios__input" id="no-addr" name="further-address" value="no" checked>
                                                <label for="no-addr" class="nhsuk-label nhsuk-radios__label">No</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>


                            </section>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>



    <a class="nhsuk-button nhsuk-u-margin-top-3" href="#" id="continue" style="display:none">Continue</a>
    <a class="nhsuk-button nhsuk-u-margin-top-3" href="success" id="save">Save</a>
    <a href="../../tree.html" class=" nhsuk-button nhsuk-u-margin-top-3" id="cancel" style="background-color: darkred">Cancel</a>


</div>

<script type="text/javascript">

    accessibleAutocomplete.enhanceSelectElement({
        defaultValue : '',
        autoselect : false,
        placeholder : 'Organisation unit',
        showAllValues: true,
        selectElement : document.querySelector('#identity0'),
    })
</script>

<script>

    const radioOptionsAtt = document.querySelectorAll('input[name="further-attributes"]');

    radioOptionsAtt.forEach((option) => {
        option.addEventListener("click", (event) => {

            const continueBtn = document.querySelector('#continue');
            const saveBtn = document.querySelector('#save');
            const cancelBtn = document.querySelector('#cancel');
            const optionAtt = document.querySelector('input[name="further-attributes"]:checked').value;
            const optionRel = document.querySelector('input[name="further-relationships"]:checked').value;
            const optionAddr = document.querySelector('input[name="further-address"]:checked').value;

            if(optionAtt === 'yes') {
                saveBtn.style.display="none";
                cancelBtn.style.display="none";
                continueBtn.style.display="inline-block";
                continueBtn.href="additional-attribute?change=true";
            }else {
                if(optionAtt == 'no' && optionRel =='no' && optionAddr =='no' ) {
                    continueBtn.style.display = "none";
                    saveBtn.style.display = "inline-block";
                    cancelBtn.style.display = "inline-block";
                }
            }
        })
    })


    const radioOptionsRel = document.querySelectorAll('input[name="further-relationships"]');

    radioOptionsRel.forEach((option) => {
        option.addEventListener("click", (event) => {

            const continueBtn = document.querySelector('#continue');
            const saveBtn = document.querySelector('#save');
            const cancelBtn = document.querySelector('#cancel');
            const optionRel = document.querySelector('input[name="further-relationships"]:checked').value;
            const optionAtt = document.querySelector('input[name="further-attributes"]:checked').value;
            const optionAddr = document.querySelector('input[name="further-address"]:checked').value;

            if(optionRel === 'yes') {
                saveBtn.style.display="none";
                cancelBtn.style.display="none";
                continueBtn.style.display="inline-block";
                continueBtn.href="insert-relationship-additional?change=true";
            }else {
                if(optionRel == 'no' && optionAtt =='no' && optionAddr =='no' ) {
                    continueBtn.style.display = "none";
                    saveBtn.style.display = "inline-block";
                    cancelBtn.style.display = "inline-block";
                }
            }
        })
    })

    const radioOptionsAddr = document.querySelectorAll('input[name="further-address"]');

    radioOptionsAddr.forEach((option) => {
        option.addEventListener("click", (event) => {

            const continueBtn = document.querySelector('#continue');
            const saveBtn = document.querySelector('#save');
            const cancelBtn = document.querySelector('#cancel');
            const optionAddr= document.querySelector('input[name="further-address"]:checked').value;
            const optionRel = document.querySelector('input[name="further-relationships"]:checked').value;
            const optionAtt = document.querySelector('input[name="further-attributes"]:checked').value;

            if(optionAddr == 'yes') {
                saveBtn.style.display="none";
                cancelBtn.style.display="none";
                continueBtn.style.display="inline-block";
                continueBtn.href="insert-address?change=true";
            }else {
                if(optionAddr == 'no' && optionRel =='no' && optionAtt =='no' ) {
                    continueBtn.style.display = "none";
                    saveBtn.style.display = "inline-block";
                    cancelBtn.style.display = "inline-block";
                }
            }
        })
    })


</script>

{% endblock %}
